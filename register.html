<!DOCTYPE HTML>
<html>
    <head>
        <title>Halaman Login</title>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <div class="container">
          <h1>Create Your Account</h1>
            <form>
                <label>First Name</label>
                <br>
                <input placeholder="Abyan" type="text" name="FName" required>
                <br>    
                <label>Last Name</label>
                <br>
                <input placeholder="Putra Shalih" type="text" name="LName" required>
                <br>
                <label>Email Addres</label>
                <br>
                <input placeholder="tes@gmail.com" type="email" name="email" required>
                <br>
                <label>Password</label>
                <br>
                <input placeholder="*********" type="password" pattern=".{8,}" 
                title="Must contain at least 8 or more characters" name="psw" required >
                <br>
                <button>Register</button>
            </form>
        </div>
    </body>
    <div class="container-1">
    <p> Already have an account?
        <a href="login.html">Login di sini</a>
      </p>
      </div>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script>
        // mengambil data dalam input
        document.querySelector('form').addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.querySelector('input[name="email"]').value;
            const password = document.querySelector('input[name="psw"]').value;
            const fname = document.querySelector('input[name="FName"]').value;
            const lname = document.querySelector('input[name="LName"]').value;
            console.log("Data yang didapat\nEmail : " + username +
            '\nPassword : '+ password +
            '\nFirst Name : ' + fname +
            '\nLast Name : ' + lname);
            
          });

        async function register() {
            // Buat objek register dengan properti username dan password
            const data = {
              fname   : fname,
              lname   : lname,
              username: username,
              password: password
            };
          
            console.log(data);
            // Kirim objek register ke API menggunakan metode POST
            const response = await fetch('https://example.com/api/register', {
              method: 'POST',
              body: JSON.stringify(data),
              headers: {
                'Content-Type': 'application/json'
              }
            });
          
            // Dapatkan hasilnya dan tampilkan di console
            const result = await response.json();
            console.log(result);
          }
          register();
      </script>
</html>
